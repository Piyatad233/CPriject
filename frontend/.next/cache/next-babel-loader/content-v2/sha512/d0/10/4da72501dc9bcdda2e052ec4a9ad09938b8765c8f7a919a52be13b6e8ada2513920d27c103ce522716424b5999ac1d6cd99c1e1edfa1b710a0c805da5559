{"ast":null,"code":"import _regeneratorRuntime from \"D:/client/lab8/Lab08/next-nodejs-auth/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/client/lab8/Lab08/next-nodejs-auth/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\client\\\\lab8\\\\Lab08\\\\next-nodejs-auth\\\\frontend\\\\pages\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport Head from 'next/head';\nimport Layout from '../components/layout';\nimport useSWR, { mutate } from \"swr\";\nimport axios from \"axios\";\nimport React from \"react\";\nimport styles from \"../styles/Index.module.css\";\nimport Navbar from \"../components/navbar\";\nvar URL = \"http://localhost/api/herolists\";\nvar URL_SEL = \"http://localhost/api/purchase\";\n\nvar fetcher = function fetcher(key) {\n  return fetch(key).then(function (res) {\n    return res.json();\n  });\n};\n\nvar index = function index() {\n  _s();\n\n  var _useSWR = useSWR(URL, fetcher, {\n    revalidateOnFocus: false\n  }),\n      data = _useSWR.data,\n      error = _useSWR.error;\n\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"failed to load\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 21\n  }, _this);\n  if (!data) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 21\n  }, _this);\n  console.log(\"data\", data);\n\n  var selStu = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.post(\"\".concat(URL_SEL, \"/\").concat(id));\n\n            case 2:\n              result = _context.sent;\n              mutate(URL, data);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function selStu(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var showHerolist = function showHerolist() {\n    if (data.list && data.list.length) {\n      return data.list.map(function (item, index) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.listItem,\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Picture:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 13\n          }, _this), \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.imageUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 29\n          }, _this), \"}\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 57\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 28,\n              columnNumber: 18\n            }, _this), \" \", item.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 29,\n              columnNumber: 18\n            }, _this), \" \", item.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Rank:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 20\n            }, _this), \" \", item.rank, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 14\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Number:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 18\n            }, _this), \" \", item.number]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.btn,\n              onClick: function onClick() {\n                return selStu(item.id);\n              },\n              children: \"Select\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 13\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 13\n          }, _this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 11\n        }, _this);\n      });\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 14\n      }, _this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Home Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 8\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 39\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.title,\n        children: /*#__PURE__*/_jsxDEV(\"marquee\", {\n          bgcolor: \"#A9E0B8\",\n          direction: \"lefe\",\n          scrollamount: \"5\",\n          width: \"100%\",\n          children: /*#__PURE__*/_jsxDEV(\"ins\", {\n            children: \"Welcome to My HeroWorld\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 81\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.list,\n        children: showHerolist()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(index, \"r2QYs02BSrn+Eu/1uMGZi8N+HnQ=\", false, function () {\n  return [useSWR];\n});\n\nexport default index;","map":{"version":3,"sources":["D:/client/lab8/Lab08/next-nodejs-auth/frontend/pages/index.js"],"names":["Head","Layout","useSWR","mutate","axios","React","styles","Navbar","URL","URL_SEL","fetcher","key","fetch","then","res","json","index","revalidateOnFocus","data","error","console","log","selStu","id","post","result","showHerolist","list","length","map","item","listItem","imageUrl","name","status","rank","number","btn","container","title"],"mappings":"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","sourcesContent":["import Head from 'next/head' \r\nimport Layout from '../components/layout' \r\nimport useSWR, { mutate } from \"swr\";\r\nimport axios from \"axios\";\r\nimport React, { } from \"react\";\r\nimport styles from \"../styles/Index.module.css\";\r\nimport Navbar from \"../components/navbar\";\r\nconst URL = \"http://localhost/api/herolists\";\r\nconst URL_SEL = \"http://localhost/api/purchase\";\r\nconst fetcher = (key) => fetch(key).then((res) => res.json());\r\nconst index = () => {\r\n  const { data, error } = useSWR(URL, fetcher, { revalidateOnFocus: false });\r\n  if (error) return <div>failed to load</div>;\r\n  if (!data) return <div>Loading...</div>;\r\n  console.log(\"data\", data);\r\n  \r\n  const selStu = async (id) => {\r\n    let result = await axios.post(`${URL_SEL}/${id}`)\r\n    mutate(URL, data);\r\n  }\r\n\r\n  const showHerolist = () => {\r\n    if (data.list && data.list.length) {\r\n      return data.list.map((item, index) => {\r\n        return (\r\n          <div className={styles.listItem} key={index}>\r\n            <b>Picture:</b> <img src={item.imageUrl} />}<br />\r\n            <div><b>Name:</b> {item.name}</div>\r\n            <div><b>Status:</b> {item.status}</div>\r\n             <div> <b>Rank:</b> {item.rank} </div>\r\n            <div><b>Number:</b> {item.number}</div>\r\n            \r\n            <div>\r\n            <button\r\n              className={styles.btn}\r\n              onClick={() => selStu(item.id)}\r\n            >\r\n              Select\r\n            </button></div>\r\n          </div>\r\n        );\r\n      });\r\n    } else {\r\n      return <p>Loading...</p>;\r\n    }\r\n  };\r\n  return (\r\n    <Layout>\r\n       <Head>\r\n        <title>Home Page</title>\r\n    </Head>\r\n    <div className={styles.container}><Navbar />\r\n      <div className={styles.title}>\r\n      <marquee bgcolor=\"#A9E0B8\" direction=\"lefe\" scrollamount=\"5\" width=\"100%\"><ins>Welcome to My HeroWorld</ins></marquee></div>\r\n      <div className={styles.list}>\r\n        {showHerolist()}\r\n      </div>\r\n      \r\n    </div>\r\n    </Layout>\r\n  );\r\n};\r\nexport default index;\r\n"]},"metadata":{},"sourceType":"module"}